server.port=8080
spring.application.name=boozebuddies

# MySQL classic protocol (JDBC) runs on 3306 by default.
# Note: 33060 is MySQL X Protocol (MySQL X DevAPI) and is NOT compatible with JDBC URLs.
# Use environment variables to override host/port/db/user/pass as needed.
spring.datasource.url=jdbc:mysql://${DB_HOST:127.0.0.1}:${DB_PORT:3306}/${DB_NAME:boozebuddies}?\
	connectTimeout=30000&\
	socketTimeout=60000&\
	useSSL=false&\
	allowPublicKeyRetrieval=true
spring.datasource.username=${DB_USER:app}
spring.datasource.password=${DB_PASS:app}
spring.datasource.hikari.initializationFailTimeout=0
spring.datasource.hikari.connectionTimeout=30000
spring.datasource.hikari.validationTimeout=5000
spring.datasource.hikari.maxLifetime=1800000
spring.datasource.hikari.idleTimeout=600000
spring.datasource.hikari.maximumPoolSize=10

spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
# Retry Flyway connection briefly to avoid immediate failure if DB is just starting
spring.flyway.connect-retries=5
spring.flyway.connect-retries-interval=5s

# Use a proper secure secret, at least 32 characters
jwt.secret=${JWT_SECRET:ThisIsASuperSecureJwtSecretKey1234}
# Access token expiration in milliseconds (default 15 minutes)
jwt.expirationMs=900000
# Refresh token expiration in milliseconds (default 7 days)
jwt.refreshExpirationMs=604800000
